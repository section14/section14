<dom-module id="project-box">

    <style>

    :host {
        float: left;
        width: 244px;
        height: 244px;
        min-width: 244px;
        min-height: 244px;
        margin: 12px 0px 12px 0px;
        background-color: var(--box-background-color, gray);
    }

    #image {
        height: 0px;
        postition: relative;
        top: 0;
        z-index: 1;
    }

    #line1 {
        color: var(--text-color-1, white);
    }

    #line2 {
        color: var(--text-color-2, white);
    }

    #outer_container {
        width: 100%;
        height: 100%;
        cursor: pointer;
    }

    #box_container {
        height: 100%;
    }

    #text_container {
        height: 100%;
        position:relative;
        top: 0;
        z-index: 2;
    }

    </style>

    <template>

        <div id="outer_container" on-tap="handleTap" on-mouseover="enterHover" on-mouseout="leaveHover">
            <div id="box_container" class="layout vertical">

                <div id="image">
                    <iron-image class="image" preload src="{{imagePath}}"></iron-image>
                </div>

                <div id="text_container" class="layout vertical center-justified center">
                    <div id="line1">
                        <span>[[boxText1]]</span>
                    </div>

                    <div id="line2">
                        <span>[[boxText2]]</span>
                    </div>
                </div>

            </div>
        </div>

    </template>

    <script>

    Polymer({

        is: "project-box",

        behaviors: [
            Polymer.NeonAnimationRunnerBehavior,
        ],

        properties: {

            animationConfig: {
                value: function() {
                    return {
                        "imageFadeOut": {
                            name: "fade-out-animation",
                            node: this.$.image,
                            complete: "imageFadeOutComplete"
                        },
                        "imageFadeIn": {
                            name: "fade-in-animation",
                            node: this.$.text_container
                        }

                    }
                }

            },

            boxImage: {
                type: String
            },

            boxText1: {
                type: String
            },

            boxText2: {
                type: String
            },

            urlDest: {
                type: String
            }

        },

        listeners: {
          // this event is fired when the animation finishes
          "neon-animation-finish": "imageFadeOutComplete"
        },

        ready: function() {
            this.setImagePath();

            //hide text initially
            this.$.text_container.style.display = "none";
        },

        setImagePath: function() {
            this.imagePath = "/images/" + this.boxImage;
        },

        imageFadeOutComplete: function() {

            //this.$.image.style.display = "none";
        },

        enterHover: function() {
            this.playAnimation("imageFadeOut");
        },

        leaveHover: function() {
            this.playAnimation("imageFadeIn");
            this.$.text_container.style.display = "initial";
        },

        crapTest: function() {
            console.log("I hate you");
        },

        handleTap: function() {

        },

    });

    </script>

</dom-module>
